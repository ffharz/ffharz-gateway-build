# Log warnings and errors to stderr
log level warn;

# Log everything to syslog
log to syslog level debug;

#hide ip addresses yes;
#hide mac addresses yes;

# Set the interface name
interface "backbone";
mode tap;
status socket "/var/run/lock/fastd.backbone.sock";
# Support xsalsa20 and aes128 encryption methods, prefer xsalsa20
method "null";
# Bind to a fixed port
bind 0.0.0.0:10000;
bind [::]:10000;
# Secret key generated by `fastd --generate-key`
include "secret.conf";
on verify "false";
# Enforce secure handshakes
secure handshakes no;
# Set the interface MTU for TAP mode with xsalsa20/aes128 over IPv4 with a base MTU of 1492 (PPPoE)
# (see MTU selection documentation)
mtu 1426;
# Include peers from the directory 'peers'
include peers from "gateway";
# Activate batmand-adv routing in tap interface
on up "
	ip link set up dev $INTERFACE
	ifup bat0
	ip link set address 00:00:00:00:00:00 up dev $INTERFACE
	batctl if add $INTERFACE
";
